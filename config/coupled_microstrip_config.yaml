# Coupled Microstrip Agent Configuration

model:
  onnx_path: "models/ANN_Model_Z.onnx"
  normalization:
    min_values: [50.0, 50.0, 50.0, 5.0, 2.0]  # w, h, s, t, er (min)
    max_values: [500.0, 500.0, 3000.0, 50.0, 6.0] # w, h, s, t, er (max)

bem:
  executable: "C:/Program Files (x86)/tnt-1.2.2/bin/bem.exe"
  template: "bem/ECM#1.xsctn"
  result_file: "bem/ECM#1.result"
  timeout: 60

optimization:
  convergence_threshold: 3.0  # percent error between optimized BEM-simulated Zdiff vs. Zdiff_target (PRIMARY success criterion)
  model_accuracy_threshold: 3.0  #  percent error between optimized ML result vs. Zdiff_target (SECONDARY criterion)

input_parameters:
  trace_width_um:
    type: "number"
    description: "Trace width (always optimized)"
    required: True
    min: 50.0
    max: 500.0
 
  trace_spacing_um:
    type: "number"
    description: "Edge-to-edge spacing"
    required: True
    min: 50.0
    max: 3000.0
  
  height_um:
    type: "number"
    description: "Dielectric height"
    required: True
    min: 50.0
    max: 500.0 
  
  thickness_um:
    type: "number"
    description: "Copper thickness"
    required: True
    min: 5.0
    max: 50.0

  dielectric_constant:
    type: "number"
    description: "PCB dielectric constant (Er)"
    required: True
    min: 2.0
    max: 6.0

output_parameters:
  target_zdiff_ohms:
    type: "number"
    description: "Target differential impedance"
    required: True
    min: 50.0
    max: 200.0

workflow:
  max_retries: 3
  state_timeout: 300  # seconds
  auto_retry_on_non_convergence: false
